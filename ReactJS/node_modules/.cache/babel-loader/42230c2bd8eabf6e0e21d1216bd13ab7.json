{"ast":null,"code":"import http from \"./httpService\";\nimport jwtDecode from \"jwt-decode\";\nimport { apiBaseUrl } from \"../config.json\";\nconst apiLoginEndPoint = apiBaseUrl + \"/login\";\nconst tokenKey = \"token\";\nhttp.setJwt(getJwt());\nexport async function login(username, password) {\n  const {\n    headers\n  } = await http.post(apiLoginEndPoint, {\n    username,\n    password\n  });\n  localStorage.setItem(tokenKey, headers.authorization);\n}\nexport function loginWithJwt(jwt) {\n  localStorage.setItem(tokenKey, jwt);\n}\nexport function getJwt() {\n  return localStorage.getItem(tokenKey);\n}\nexport function logout() {\n  localStorage.removeItem(tokenKey);\n}\nexport function getCurrentUser() {\n  try {\n    const jwt = localStorage.getItem(tokenKey);\n    return jwtDecode(jwt);\n  } catch (ex) {\n    return null;\n  }\n}\nexport default {\n  login,\n  loginWithJwt,\n  getJwt,\n  logout,\n  getCurrentUser\n};","map":{"version":3,"sources":["C:/Users/HP/Downloads/ReactJS-SpringBoot-JWT-Authentican-Authorization-master/ReactJS-SpringBoot-JWT-Authentican-Authorization-master/ReactJS/src/services/authService.js"],"names":["http","jwtDecode","apiBaseUrl","apiLoginEndPoint","tokenKey","setJwt","getJwt","login","username","password","headers","post","localStorage","setItem","authorization","loginWithJwt","jwt","getItem","logout","removeItem","getCurrentUser","ex"],"mappings":"AAAA,OAAOA,IAAP,MAAiB,eAAjB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,SAASC,UAAT,QAA2B,gBAA3B;AAEA,MAAMC,gBAAgB,GAAGD,UAAU,GAAG,QAAtC;AACA,MAAME,QAAQ,GAAG,OAAjB;AAEAJ,IAAI,CAACK,MAAL,CAAYC,MAAM,EAAlB;AAEA,OAAO,eAAeC,KAAf,CAAqBC,QAArB,EAA+BC,QAA/B,EAAyC;AAC9C,QAAM;AAAEC,IAAAA;AAAF,MAAc,MAAMV,IAAI,CAACW,IAAL,CAAUR,gBAAV,EAA4B;AAAEK,IAAAA,QAAF;AAAYC,IAAAA;AAAZ,GAA5B,CAA1B;AACAG,EAAAA,YAAY,CAACC,OAAb,CAAqBT,QAArB,EAA+BM,OAAO,CAACI,aAAvC;AACD;AAED,OAAO,SAASC,YAAT,CAAsBC,GAAtB,EAA2B;AAChCJ,EAAAA,YAAY,CAACC,OAAb,CAAqBT,QAArB,EAA+BY,GAA/B;AACD;AAED,OAAO,SAASV,MAAT,GAAkB;AACvB,SAAOM,YAAY,CAACK,OAAb,CAAqBb,QAArB,CAAP;AACD;AAED,OAAO,SAASc,MAAT,GAAkB;AACvBN,EAAAA,YAAY,CAACO,UAAb,CAAwBf,QAAxB;AACD;AAED,OAAO,SAASgB,cAAT,GAA0B;AAC/B,MAAI;AACF,UAAMJ,GAAG,GAAGJ,YAAY,CAACK,OAAb,CAAqBb,QAArB,CAAZ;AACA,WAAOH,SAAS,CAACe,GAAD,CAAhB;AACD,GAHD,CAGE,OAAOK,EAAP,EAAW;AACX,WAAO,IAAP;AACD;AACF;AAID,eAAe;AACbd,EAAAA,KADa;AAEbQ,EAAAA,YAFa;AAGbT,EAAAA,MAHa;AAIbY,EAAAA,MAJa;AAKbE,EAAAA;AALa,CAAf","sourcesContent":["import http from \"./httpService\";\nimport jwtDecode from \"jwt-decode\";\nimport { apiBaseUrl } from \"../config.json\";\n\nconst apiLoginEndPoint = apiBaseUrl + \"/login\";\nconst tokenKey = \"token\";\n\nhttp.setJwt(getJwt());\n\nexport async function login(username, password) {\n  const { headers } = await http.post(apiLoginEndPoint, { username, password });\n  localStorage.setItem(tokenKey, headers.authorization);\n}\n\nexport function loginWithJwt(jwt) {\n  localStorage.setItem(tokenKey, jwt);\n}\n\nexport function getJwt() {\n  return localStorage.getItem(tokenKey);\n}\n\nexport function logout() {\n  localStorage.removeItem(tokenKey);\n}\n\nexport function getCurrentUser() {\n  try {\n    const jwt = localStorage.getItem(tokenKey);\n    return jwtDecode(jwt);\n  } catch (ex) {\n    return null;\n  }\n}\n\n\n\nexport default {\n  login,\n  loginWithJwt,\n  getJwt,\n  logout,\n  getCurrentUser,\n};\n"]},"metadata":{},"sourceType":"module"}